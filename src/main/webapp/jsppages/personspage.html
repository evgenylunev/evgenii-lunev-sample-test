<html lang="en" ng-app="personsapp">
<head>
  <meta charset="utf-8">
  <title>Personspage</title>
  <script src="/js/angular.min.js"></script>
  <script src="/js/xeditable.min.js"></script>
  <script src="/js/personscontr.js"></script>
  <link rel="stylesheet" type="text/css" href="/css/xeditable.css">
  <link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
  <!-- <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.css"> -->
</head>

<body    ng-controller="PersonsCtrl">

  <h1>Persons page</h1>
  <label>
       New person:
       <input type="text" name="personName" ng-model="personName" required>
       <input type="text" name="personDescription" ng-model="personDescription" required>
    </label>
  <button ng-click="addPersons()">Add a person</button>
  <button ng-click="listPersons()">List person</button>

<table>
		<thead>
			<tr>
			<!-- <th style="width: 20%;">Person id</th> -->
				<th style="width: 20%;">Person name</th>
				<th style="width: 20%;">Creation date</tdh>
				<th style="width: 20%;">Description</th>
				<th style="width: 20%;">Delete</th>
				<th style="width: 20%;">Edit</th>
			</tr>
		</thead>
		<tbody>
	 		<tr ng-repeat='person in personlist'>
	 				
	 				<td align="center"><span editable-text="person.name" e-name="name" e-form="rowform" onbeforesave="checkName($data, person.id)" e-required>
          				{{ person.name }}
        			</span>
					</td>
	 				<td align="center">{{person.date | date: 'yyyy-MM-dd HH:mm' }}</td>
                    <td align="center"><span editable-text="person.description" e-name="description" e-form="rowform" onbeforesave="checkName($data, person.id)" e-required>
          				{{ person.description }}
        			</span>
					</td>  
                    <td align="center"><div><img src="/images/delete-icon.png" ng-click="deletePerson(person)"/></div></td>
                    <td align="center">
                    	<form editable-form name="rowform" onbeforesave="saveUser($data, person.id)" ng-show="rowform.$visible" shown="false">
          					<!-- <button type="submit" ng-disabled="rowform.$waiting" >
            					save
          					</button> -->
          					<div>
          					<input type="image" ng-disabled="rowform.$waiting" src="/images/icon-pencil.png" />
          					</div>
          <!-- <button type="button" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()" class="btn btn-default">
            cancel
          </button> -->
        				</form>
                    	<div ng-show="!rowform.$visible">
							<!-- <button  ng-click="rowform.$show()">edit</button> -->
                    		<img src="/images/icon-pencil.png" ng-click="rowform.$show()"/>
                    	</div>
                    </td>                
            </tr>
         </tbody>
      </table>

  
 
</body>
</html>